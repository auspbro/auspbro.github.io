---
title: 如何实现有线连公司内网无线连接外网
date: 2017-09-21 22:48:05
tags:
---

Windows 下如何实现用有线网络连接公司内网（主要用来查看收发公司邮件），无线网络连接外网（主要使用chrome浏览器浏览网页）互不影响。

目前遇到的状况是内外网同时连上后，由于内网用的有线网络，我知道有线网络的优先级高于无线网络，所以即使用无线连着外网也打不开网页。有试过手动更改有线和无线的跃点数很不稳定，有没有其他更好的解决方案。

## 方法一：

首先给大家介绍最简单实用的方法。
内网网卡：手动配置IP地址和子网掩码，去掉网关。
外网网卡：可以DHCP获取，也可手动配置（IP地址、子网掩码、网关、DNS都要配置）
举个例子：
内网地址为192.168.2.x，外网为192.168.0.x
那么应该按如下图配置

OK，大功告成，内外网可以同时上了。这是最简单的方法

## 方法二：

此方法是通过配置电脑的静态路由来实现同时访问内外网的。电脑的网络IP配置不用变，两个网卡都按照正常配置（都配置IP地址、子网掩码、网关、）。我们通过设置不同的网络经过不同的网关来实现内外网正常访问。
对XP系统来说，点击开始-附件-命令提示符，进入输入命令界面

### 第一步：删除默认路由

route delete 0.0.0.0    
注：删除所有0.0.0.0的路由，这个是默认访问外网的路由

### 第二步：添加静态路由

(假设内网网段为192.168.10.x，网关为192.168.10.1；
外网网段为192.168.20.x，网关为192.168.20.1)
先配置内网静态路由：
route add 192.168.10.0 mask 255.255.255.0 192.168.10.1 -p
注：它表示访问192.168.10.0网段的所有数据都要经过网关192.168.10.1，-p表示永久添加，重启后依然有效
在配置外网静态路由：
route add 0.0.0.0 mask 0.0.0.0 192.168.20.1 -p
注：它表示你可以上外网，访问所有数据都要经过外网网关192.168.20.1，-p表示永久添加，重启后依然有效。

### 第三步：设置完了以后，还要再看一下路由表是否都修改过来了。在命令窗口输入route print ，就可以显示本机的路由表了。

注意：此方法适用于多张网卡，比如三张网卡、四张网卡等等
但是一旦把网卡禁用，再启用，那么我们设置的静态路由就会丢失。如果我们想清除静态路由，就可以使用此方法。


## 实例：

```
@echo on

:start
route delete 0.0.0.0
timeout 3
route add 172.20.155.0 mask 255.255.255.0 172.20.155.1 -p
timeout 3
route add 0.0.0.0 mask 0.0.0.0 192.168.0.1 -p
goto end
```
